<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fix Buddy</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="toast.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <h1 style="color: white;">Fix <span style="color: orange;">Buddy</span></h1>
        </div>
        <nav class="nav">
            <ul>
                <li><a href="/about">About Us</a></li>
                <li><a href="/application">Become a Professional</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="/contact">Contact</a></li>
                <% if (user) { %>
                    <!-- If the user is logged in, show profile icon -->
                    <li><a href="">
                        <img style="height: 25px;" src="/images/profile-icon.jpg" alt="Profile" class="profile-icon">
                    </a></li>
                    <li><a href="#" onclick="handleLogout(event)">Logout</a></li>
                <% } else { %>
                    <!-- If the user is not logged in, show login -->
                    <li><a href="/login">Login</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

<section class="main">
    <div class="search-container">
        <div class="main-content">
            <h2>Your Trusted Home Service Provider</h2>
            <p>Professional services for cleaning, repairs, beauty, and more at the comfort of your home.</p>
            <div class="search-bar">
                <!-- Search input field -->
                <input type="text" id="search-input" placeholder="Search for a service..." autocomplete="off" oninput="showSuggestions()"/>
                
                <!-- Suggestions container-->
                <div id="suggestions-container" class="suggestions-container"></div>
                
                <!-- Search Button -->
                <button class="search-button" onclick="performSearch()">Search →</button>
            </div>
        </div>
    </div>
</section>

   <!-- Services Section -->
   <section id="services" class="services">
    <h2>Our Services</h2>
    <div class="service-cards-wrapper">
            <button class="nav-arrow left-arrow" onclick="scrollServices('left')">❮</button>
    <div class="service-cards" id="service-cards">
        <div class="service-card" onclick="window.location.href='/electrician'">
                    <img src="https://images.unsplash.com/photo-1621905252507-b35492cc74b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Electrician">
            <h3>Electrician</h3>
            <p>Need an electrical fix? Our skilled electricians ensure safety and efficiency every time.</p>
        </div>
        <div class="service-card" onclick="window.location.href='/carpenter'">
                    <img src="https://images.unsplash.com/photo-1601524909162-ae8725290836?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80" alt="Carpenter">
            <h3>Carpenter</h3>
            <p>From furniture assembly to home repairs, our carpenters deliver craftsmanship you can rely on.</p>
        </div>
        <div class="service-card" onclick="window.location.href='/plumber'">
                    <img src="https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Plumber">
            <h3>Plumber</h3>
            <p>Got plumbing problems? We provide fast, reliable solutions for everything from leaks to full system installs.</p>
        </div>
        <div class="service-card" onclick="window.location.href='/painter'">
                    <img src="https://images.unsplash.com/photo-1562259949-e8e7689d7828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80" alt="Painter">
            <h3>Painter</h3>
            <p>Enhance the beauty of your home with professional painting services for interiors and exteriors.</p>
        </div>
        <div class="service-card" onclick="window.location.href='/gardener'">
                    <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Gardener">
            <h3>Gardener</h3>
            <p>Transform your garden with expert gardening services to keep your plants healthy and vibrant.</p>
        </div>
        <div class="service-card" onclick="window.location.href='/mover'">
                    <img src="https://images.unsplash.com/photo-1530649159659-c3c5f4d5abaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Mover">
            <h3>Mover</h3>
            <p>Need help with moving? Our team makes it easy and stress-free, no matter the size of your move.</p>
        </div>
        
                <!-- Duplicated Cards for Seamless Loop -->
                <div class="service-card" onclick="window.location.href='/electrician'">
                    <img src="https://images.unsplash.com/photo-1621905252507-b35492cc74b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Electrician">
                    <h3>Electrician</h3>
                    <p>Need an electrical fix? Our skilled electricians ensure safety and efficiency every time.</p>
                </div>
                <div class="service-card" onclick="window.location.href='/carpenter'">
                    <img src="https://images.unsplash.com/photo-1601524909162-ae8725290836?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1974&q=80" alt="Carpenter">
                    <h3>Carpenter</h3>
                    <p>From furniture assembly to home repairs, our carpenters deliver craftsmanship you can rely on.</p>
                </div>
                <div class="service-card" onclick="window.location.href='/plumber'">
                    <img src="https://images.unsplash.com/photo-1600566752355-35792bedcfea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Plumber">
                    <h3>Plumber</h3>
                    <p>Got plumbing problems? We provide fast, reliable solutions for everything from leaks to full system installs.</p>
                </div>
                <div class="service-card" onclick="window.location.href='/painter'">
                    <img src="https://images.unsplash.com/photo-1562259949-e8e7689d7828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2071&q=80" alt="Painter">
                    <h3>Painter</h3>
                    <p>Enhance the beauty of your home with professional painting services for interiors and exteriors.</p>
                </div>
                <div class="service-card" onclick="window.location.href='/gardener'">
                    <img src="https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Gardener">
                    <h3>Gardener</h3>
                    <p>Transform your garden with expert gardening services to keep your plants healthy and vibrant.</p>
                </div>
                <div class="service-card" onclick="window.location.href='/mover'">
                    <img src="https://images.unsplash.com/photo-1530649159659-c3c5f4d5abaa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80" alt="Mover">
                    <h3>Mover</h3>
                    <p>Need help with moving? Our team makes it easy and stress-free, no matter the size of your move.</p>
    </div>
            </div>
            <button class="nav-arrow right-arrow" onclick="scrollServices('right')">❯</button>
    </div>
</section>

<!-- How It Works Section -->
<section id="how-it-works" class="how-it-works">
    <h2>How It Works</h2>
    <div class="steps">
        <div class="step">
            <h3>Step 1: Choose Your Service</h3>
            <p>Select the type of service you need from our range of options.</p>
        </div>
        <div class="step">
            <h3>Step 2: Book a Time</h3>
            <p>Pick a time slot that fits your schedule, and we'll confirm your booking.</p>
        </div>
        <div class="step">
            <h3>Step 3: Enjoy the Service</h3>
            <p>Our professionals arrive at your door and provide top-quality service.</p>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section id="testimonials" class="testimonials">
    <h2>What Our Customers Say</h2>
    <div class="testimonial-cards">
        <div class="testimonial-card">
            <div class="rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>
            <p>Used this site for plumbing repairs. The booking process was easy, and the plumber was on time, professional, and fixed the issue quickly. Transparent pricing with no hidden fees. Highly recommend!</p>
            <h3>Devansh</h3>
        </div>
        <div class="testimonial-card">
            <div class="rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>
            <p>Booked a cleaning service. The team did an excellent job, but they were 15 minutes late. The website was user-friendly, and the service was top-notch. Would use again, just hope for better punctuality next time.</p>
            <h3>Sanyam</h3>
        </div>
        <div class="testimonial-card">
            <div class="rating">
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
                <span class="star">&#9733;</span>
            </div>            
            <p>Had an electrician come through for a lighting issue. Service was good, but the pricing was higher than expected. The website had some bugs, but the technician was professional. Room for improvement in pricing transparency.</p>
            <h3>Rishi</h3>
        </div>
    </div>
</section>

<footer>
        <ul>
            <li><a href="/FAQ"><h3>FAQ</h3></a></li>
            <div class="faq">
            <p>Get answer to your general Queries through our FAQ section.<br>
            Could n't find answer to your queries?<br>
            No need to worry,send Us your Query through the contact option present on the navigation bar<br>
            We  will ge back to you asap!!</p>
        </div>
            <li><a href="/about"><h3>About Us<h3></a></li>
        <div class="about">
            <p>
                Wanna know about us and the website contributors ?<br>
                Get to know us by clicking on the About Us text.
            </p>
        </div>
        </ul><br>
    <p>&copy; 2025 Fix Buddy. All rights reserved.</p>
</footer>

    <script src="toast.js"></script>
<script>
    // Add logout handler
    function handleLogout(event) {
        event.preventDefault();
        
        // Show confirmation dialog
        if (confirm('Are you sure you want to logout?')) {
            // Clear any stored data
            localStorage.clear();
            // Redirect to logout endpoint
            window.location.href = '/logout';
        }
    }

    // List of available services
    const services = [
        "Electrician",
        "Carpenter",
        "Plumber",
        "Painter",
        "Gardener",
        "Mover"
    ];

    // Function to show suggestions based on user input
    function showSuggestions() {
        const input = document.getElementById("search-input").value.trim().toLowerCase();
        const suggestionsContainer = document.getElementById("suggestions-container");
        suggestionsContainer.innerHTML = ""; // Clear previous suggestions

        // If input is not empty, show suggestions
        if (input) {
                // Filter services that start with the input
            const filteredServices = services.filter(service =>
                    service.toLowerCase().startsWith(input)
            );

            if (filteredServices.length > 0) {
                    suggestionsContainer.style.display = "block"; // Show the container
                filteredServices.forEach(service => {
                    const suggestion = document.createElement("div");
                    suggestion.classList.add("suggestion");
                        // Highlight the matching part
                        const highlightedText = service.slice(0, input.length);
                        const remainingText = service.slice(input.length);
                        suggestion.innerHTML = `<span style="color: #ffb300; font-weight: bold;">${highlightedText}</span>${remainingText}`;
                    suggestion.onclick = () => selectService(service);
                    suggestionsContainer.appendChild(suggestion);
                });
            } else {
                    suggestionsContainer.style.display = "block"; // Show the container
                const noResults = document.createElement("div");
                noResults.classList.add("suggestion");
                noResults.textContent = "No services found";
                suggestionsContainer.appendChild(noResults);
                }
            } else {
                suggestionsContainer.style.display = "none"; // Hide the container when input is empty
        }
    }

    // Function to select a service when clicked from suggestions
    function selectService(service) {
        document.getElementById("search-input").value = service;
            document.getElementById("suggestions-container").style.display = "none"; // Hide suggestions after selection
            // Redirect to the service page when a suggestion is clicked
            window.location.href = `/${service.toLowerCase()}`;
    }

    // Function to perform the search when the search button is clicked
    function performSearch() {
        const query = document.getElementById("search-input").value.trim();

        if (services.includes(query)) {
            // If the search term matches one of the services, redirect to the corresponding page
                window.location.href = `/${query.toLowerCase()}`;
        } else {
                if (!service) {
                    toast.warning('Warning', "Please enter a valid service.");
                    return;
                }
            }
        }

        // Close suggestions when clicking outside
        document.addEventListener('click', function(event) {
            const searchBar = document.querySelector('.search-bar');
            const suggestionsContainer = document.getElementById('suggestions-container');
            
            if (!searchBar.contains(event.target)) {
                suggestionsContainer.style.display = "none";
            }
        });

        // Add scroll control functions
        let isAnimating = false;
        let currentPosition = 0;
        const cardWidth = 330; // Width of each card including gap
        let autoScrollInterval;

        // Function to handle automatic scrolling
        function startAutoScroll() {
            const cards = document.querySelector('.service-cards');
            const totalCards = cards.children.length;
            const maxScroll = -(totalCards / 2) * cardWidth;

            autoScrollInterval = setInterval(() => {
                if (!isAnimating) {
                    currentPosition -= 1; // Reduced speed for smoother movement
                    
                    if (currentPosition <= maxScroll) {
                        currentPosition = 0;
                        cards.style.transition = 'none';
                        cards.style.transform = `translate3d(${currentPosition}px, 0, 0)`;
                        cards.offsetHeight;
                        cards.style.transition = 'transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)';
                    }
                    
                    cards.style.transform = `translate3d(${currentPosition}px, 0, 0)`;
                }
            }, 16); // Adjusted to match 60fps (1000ms/60 ≈ 16ms)
        }

        // Function to handle manual scrolling
        function scrollServices(direction) {
            if (isAnimating) return;
            isAnimating = true;

            const cards = document.querySelector('.service-cards');
            const totalCards = cards.children.length;
            const maxScroll = -(totalCards / 2) * cardWidth;

            if (direction === 'left') {
                currentPosition = Math.min(currentPosition + cardWidth, 0);
                if (currentPosition === 0) {
                    setTimeout(() => {
                        cards.style.transition = 'none';
                        currentPosition = maxScroll / 2;
                        cards.style.transform = `translate3d(${currentPosition}px, 0, 0)`;
                        cards.offsetHeight;
                        cards.style.transition = 'transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)';
                    }, 300);
                }
            } else {
                currentPosition = Math.max(currentPosition - cardWidth, maxScroll);
                if (currentPosition <= maxScroll) {
                    setTimeout(() => {
                        cards.style.transition = 'none';
                        currentPosition = maxScroll / 2;
                        cards.style.transform = `translate3d(${currentPosition}px, 0, 0)`;
                        cards.offsetHeight;
                        cards.style.transition = 'transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)';
                    }, 300);
                }
            }

            cards.style.transform = `translate3d(${currentPosition}px, 0, 0)`;

            setTimeout(() => {
                isAnimating = false;
            }, 300);
        }

        // Start auto-scrolling when page loads
        document.addEventListener('DOMContentLoaded', () => {
            const cards = document.querySelector('.service-cards');
            cards.style.transition = 'transform 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)';
            cards.style.willChange = 'transform'; // Optimize performance
            startAutoScroll();
        });

        // Pause auto-scroll on hover
        document.querySelector('.service-cards-wrapper').addEventListener('mouseenter', () => {
            clearInterval(autoScrollInterval);
        });

        // Resume auto-scroll when mouse leaves
        document.querySelector('.service-cards-wrapper').addEventListener('mouseleave', () => {
            startAutoScroll();
        });
</script>
</body>
</html>